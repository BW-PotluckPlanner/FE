{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/b-stockadmin/FE/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport * as Yup from \"yup\";\nimport axios from 'axios';\nimport { Link, Redirect } from \"react-router-dom\";\n\nfunction SignUp() {\n  _s();\n\n  const [redirect, setRedirect] = useState(false);\n  const [errors, setErrors] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    age: \"\"\n  });\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    age: \"\"\n  });\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n  const [post, setPost] = useState([]);\n  const formSchema = Yup.object().shape({\n    name: Yup.string().min(3, \"Username must be at least 3 characters long.\").required(\"Must include username.\"),\n    email: Yup.string().email(\"Must be a valid email address.\").required(\"Must include email address.\"),\n    password: Yup.string().min(6, \"Passwords must be at least 6 characters long.\").required(\"Password is Required\"),\n    age: Yup.number().required(\"Age is required\")\n  });\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid);\n    });\n  }, [formState]);\n\n  const inputChange = e => {\n    e.persist();\n    Yup.reach(formSchema, e.target.name).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrors({ ...errors,\n        [e.target.name]: err.errors[0]\n      });\n    });\n    setFormState({ ...formState,\n      [e.target.name]: e.target.type === 'number' ? parseInt(e.target.value) : e.target.value\n    });\n  };\n\n  const formSubmit = e => {\n    e.preventDefault();\n    setErrors({ ...errors,\n      name: 'Submitting. Please wait . . . '\n    });\n    console.log(\"submitted!\");\n    const data = {\n      \"username\": formState.name,\n      \"password\": formState.password,\n      \"age\": formState.age,\n      \"email\": formState.email\n    };\n    axios.post(\"https://kickstarter-success-bw.herokuapp.com/api/auth/register\", data).then(res => {\n      axios.post(\"https://kickstarter-success-bw.herokuapp.com/api/auth/login\", data).then(res => {\n        console.log(\"success!\", res);\n        setFormState({\n          name: \"\",\n          email: \"\",\n          password: \"\",\n          age: 0\n        });\n        setErrors({ ...errors,\n          name: ''\n        });\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem(\"user_id\", res.data.id);\n        setRedirect(true);\n      }).catch(err => {\n        console.log(err.response);\n        setErrors({ ...errors,\n          name: err.response.data.message\n        });\n      });\n    }).catch(err => {\n      console.log(err.response);\n      setErrors({ ...errors,\n        name: err.response.data.message\n      });\n    });\n  };\n\n  if (redirect === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formSubmit,\n    children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 30\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 55\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"emailInput\",\n      children: [\"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"nameInput\",\n        type: \"name\",\n        name: \"name\",\n        placeholder: \"Name\",\n        onChange: inputChange,\n        value: formState.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"emailInput\",\n      children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"emailInput\",\n        type: \"email\",\n        name: \"email\",\n        placeholder: \"Email\",\n        onChange: inputChange,\n        value: formState.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"passwordInput\",\n      children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"passwordInput\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: inputChange,\n        value: formState.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"age\",\n      children: [\"Age:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"age\",\n        type: \"number\",\n        name: \"age\",\n        placeholder: \"Age\",\n        onChange: inputChange,\n        value: formState.age\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: buttonDisabled,\n      children: \"Submit!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 5\n    }, this), errors.age.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.age\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 31\n    }, this) : null, errors.email.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }, this) : null, errors.password.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 36\n    }, this) : null, errors.name.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 32\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SignUp, \"AKXy/+hpSTfI09Ho+iMPyl/BN+s=\");\n\n_c = SignUp;\nexport default SignUp;\n\nvar _c;\n\n$RefreshReg$(_c, \"SignUp\");","map":{"version":3,"sources":["/Users/b-stockadmin/FE/src/components/Register.js"],"names":["React","useState","useEffect","Yup","axios","Link","Redirect","SignUp","redirect","setRedirect","errors","setErrors","name","email","password","age","formState","setFormState","buttonDisabled","setButtonDisabled","post","setPost","formSchema","object","shape","string","min","required","number","isValid","then","valid","inputChange","e","persist","reach","target","validate","value","catch","err","type","parseInt","formSubmit","preventDefault","console","log","data","res","localStorage","setItem","token","id","response","message","length"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport * as Yup from \"yup\";\nimport axios from 'axios'\nimport { Link, Redirect } from \"react-router-dom\";\n\n\nfunction SignUp() {\n\n  const [redirect, setRedirect] = useState(false);\n\n    const [errors, setErrors] = useState({  \n        name: \"\",\n        email: \"\",\n        password: \"\",\n        age: \"\"\n      });\n      const [formState, setFormState] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        age: \"\"\n      });\n      const [buttonDisabled, setButtonDisabled] = useState(true);\n\n      const [post, setPost] = useState([]);\n\n    const formSchema = Yup.object().shape({\n        name: Yup\n        .string()\n        .min(3, \"Username must be at least 3 characters long.\")\n        .required(\"Must include username.\"),\n        email: Yup\n          .string()\n          .email(\"Must be a valid email address.\")\n          .required(\"Must include email address.\"),\n        password: Yup\n          .string()\n          .min(6, \"Passwords must be at least 6 characters long.\")\n          .required(\"Password is Required\"),\n        age: Yup\n        .number()\n        .required(\"Age is required\"),\n      });\n\n      useEffect(() => {\n        formSchema.isValid(formState).then(valid => {\n          setButtonDisabled(!valid);\n        });\n      }, [formState]);\n\n      \n\n      const inputChange = e => {\n        e.persist();\n        Yup\n        .reach(formSchema, e.target.name)\n        .validate(e.target.value)\n        .then(valid => {\n          setErrors({\n            ...errors,\n            [e.target.name]: \"\"\n          });\n        })\n        .catch(err => {\n          setErrors({\n            ...errors,\n            [e.target.name]: err.errors[0]\n          });\n        });\n        setFormState({\n          ...formState,\n          [e.target.name]: e.target.type === 'number' ? parseInt(e.target.value) : e.target.value\n      })\n    };\n\n    const formSubmit = e => {\n        e.preventDefault();\n        setErrors({\n          ...errors,\n          name: 'Submitting. Please wait . . . '\n        });\n        console.log(\"submitted!\");\n        const data = {\"username\": formState.name,\n        \"password\": formState.password, \n        \"age\": formState.age,\n        \"email\": formState.email};\n        axios\n          .post(\"https://kickstarter-success-bw.herokuapp.com/api/auth/register\", data)\n          .then(res => {\n            axios\n          .post(\"https://kickstarter-success-bw.herokuapp.com/api/auth/login\", data)\n          .then(res => {\n            console.log(\"success!\", res);\n            setFormState({name: \"\",\n            email: \"\",\n            password: \"\",\n            age: 0})\n            setErrors({\n              ...errors,\n              name: ''\n            });\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem(\"user_id\", res.data.id)\n\n            setRedirect(true);\n\n          })\n          .catch(err => {\n            \n            console.log(err.response)\n            setErrors({\n              ...errors,\n              name: err.response.data.message\n            });\n\n          }\n          );\n          })\n          .catch(err => {\n            \n            console.log(err.response)\n            setErrors({\n              ...errors,\n              name: err.response.data.message\n            });\n          }\n          );\n      };\n\n  if (redirect === true) {\n    return <Redirect to='/' />\n  }\n    \n  return (\n\n    \n    <form onSubmit={formSubmit}>\n    Already have an account? <Link to='/'>Login</Link><br/>\n\n    <label htmlFor=\"emailInput\">\n      Username:\n      <input id=\"nameInput\" type=\"name\" name=\"name\" placeholder=\"Name\"  onChange={inputChange} value = {formState.name}/>\n    </label>\n    \n    <br/>\n    <label htmlFor=\"emailInput\">\n      Email:\n      <input id=\"emailInput\" type=\"email\" name=\"email\" placeholder=\"Email\"  onChange={inputChange} value = {formState.email}/>\n    </label>\n       \n    <br/>\n    <label htmlFor=\"passwordInput\">\n      Password:\n      <input id=\"passwordInput\" type=\"password\" name=\"password\" placeholder=\"Password\"  onChange={inputChange} value = {formState.password}/>\n    </label>\n    \n    <br/>\n    <label htmlFor=\"age\">\n      Age:\n      <input id=\"age\" type=\"number\" name=\"age\" placeholder='Age'  onChange={inputChange} value = {formState.age}/>\n    </label>\n   \n    <br/>\n    <button disabled = {buttonDisabled} >Submit!</button>\n    {errors.age.length > 0 ? (<p className=\"error\">{errors.age}</p>) : null}\n    {errors.email.length > 0 ? (<p className=\"error\">{errors.email}</p>) : null}\n    {errors.password.length > 0 ? (<p className=\"error\">{errors.password}</p>) : null}\n    {errors.name.length > 0 ? (<p className=\"error\">{errors.name}</p>) : null}\n    \n  </form>\n  );\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}