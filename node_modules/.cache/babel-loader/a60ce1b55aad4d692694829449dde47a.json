{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/b-stockadmin/FE/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport * as Yup from \"yup\";\nimport axios from 'axios';\nimport { Link, Redirect } from 'react-router-dom';\n\nfunction Login(props) {\n  _s();\n\n  const [redirect, setRedirect] = useState(false);\n  const [errors, setErrors] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    age: 0\n  });\n  const [formState, setFormState] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    age: 0\n  });\n  const [buttonDisabled, setButtonDisabled] = useState(true);\n  const [post, setPost] = useState([]);\n  const formSchema = Yup.object().shape({\n    name: Yup.string().required(\"Must include username.\"),\n    password: Yup.string().required(\"Password is Required\")\n  });\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid);\n    });\n  }, [formState]);\n\n  const inputChange = e => {\n    e.persist();\n    Yup.reach(formSchema, e.target.name).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      setErrors({ ...errors,\n        [e.target.name]: err.errors[0]\n      });\n    });\n    setFormState({ ...formState,\n      [e.target.name]: e.target.type === 'number' ? parseInt(e.target.value) : e.target.value\n    });\n  };\n\n  const formSubmit = e => {\n    e.preventDefault();\n    setErrors({ ...errors,\n      name: 'Submitting. Please wait . . .'\n    });\n    console.log(\"submitted!\");\n    const data = {\n      \"username\": formState.name,\n      \"password\": formState.password\n    };\n    axios.post(\"https://potluck-planner1220.herokuapp.com/api/auth/login\", data).then(res => {\n      localStorage.setItem('token', res.data.token);\n      localStorage.setItem(\"user_id\", formState.name);\n      console.log(\"success!\", res);\n      setFormState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        age: 0\n      });\n      setErrors({ ...errors,\n        name: ''\n      });\n      setRedirect(true);\n    }).catch(err => {\n      console.log(err.response);\n      setErrors({ ...errors,\n        name: err.response.data.message\n      });\n    });\n  };\n\n  if (redirect === true) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: formSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"emailInput\",\n      children: [\"Don't have an account yet? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/Register\",\n        children: \"Sign Up\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 69\n      }, this), \"Username:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"nameInput\",\n        type: \"name\",\n        name: \"name\",\n        placeholder: \"Name\",\n        onChange: inputChange,\n        value: formState.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"passwordInput\",\n      children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"passwordInput\",\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"Password\",\n        onChange: inputChange,\n        value: formState.password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      disabled: buttonDisabled,\n      children: \"Submit!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }, this), errors.age.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.age\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 31\n    }, this) : null, errors.email.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.email\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 33\n    }, this) : null, errors.password.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.password\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 36\n    }, this) : null, errors.name.length > 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error\",\n      children: errors.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 32\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 113,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Login, \"mlYDbv1HTYYjRgXKPAu4FwD/pEU=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/b-stockadmin/FE/src/components/Login.js"],"names":["React","useState","useEffect","Yup","axios","Link","Redirect","Login","props","redirect","setRedirect","errors","setErrors","name","email","password","age","formState","setFormState","buttonDisabled","setButtonDisabled","post","setPost","formSchema","object","shape","string","required","isValid","then","valid","inputChange","e","persist","reach","target","validate","value","catch","err","type","parseInt","formSubmit","preventDefault","console","log","data","res","localStorage","setItem","token","response","message","length"],"mappings":"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","sourcesContent":["\nimport React, {useState, useEffect} from 'react';\nimport * as Yup from \"yup\";\nimport axios from 'axios'\nimport { Link, Redirect } from 'react-router-dom';\n\n\nfunction Login( props) {\n\n    const [redirect, setRedirect] = useState(false);\n\n    const [errors, setErrors] = useState({  \n        name: \"\",\n        email: \"\",\n        password: \"\",\n        age: 0\n      });\n      const [formState, setFormState] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        age: 0\n      });\n      const [buttonDisabled, setButtonDisabled] = useState(true);\n\n      const [post, setPost] = useState([]);\n\n    const formSchema = Yup.object().shape({\n        name: Yup\n        .string()\n        .required(\"Must include username.\"),\n        password: Yup\n          .string()\n          .required(\"Password is Required\"),\n      });\n\n      useEffect(() => {\n        formSchema.isValid(formState).then(valid => {\n          setButtonDisabled(!valid);\n        });\n      }, [formState]);\n\n      \n\n      const inputChange = e => {\n        e.persist();\n        Yup\n        .reach(formSchema, e.target.name)\n        .validate(e.target.value)\n        .then(valid => {\n          setErrors({\n            ...errors,\n            [e.target.name]: \"\"\n          });\n        })\n        .catch(err => {\n          setErrors({\n            ...errors,\n            [e.target.name]: err.errors[0]\n          });\n        });\n        setFormState({\n          ...formState,\n          [e.target.name]: e.target.type === 'number' ? parseInt(e.target.value) : e.target.value\n      })\n    };\n\n    const formSubmit = e => {\n        e.preventDefault();\n        setErrors({\n          ...errors,\n          name: 'Submitting. Please wait . . .'\n        });\n        console.log(\"submitted!\");\n        const data = {\"username\": formState.name,\n        \"password\": formState.password, \n    };\n        axios\n          .post(\"https://potluck-planner1220.herokuapp.com/api/auth/login\", data)\n          .then(res => {\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem(\"user_id\", formState.name);\n            console.log(\"success!\", res);\n            setFormState({name: \"\",\n            email: \"\",\n            password: \"\",\n            age: 0})\n            setErrors({\n              ...errors,\n              name: ''\n            });\n            \n\n            setRedirect(true);\n\n          })\n          .catch(err => {\n            \n            console.log(err.response)\n            setErrors({\n              ...errors,\n              name: err.response.data.message\n            });\n          }\n          );\n      };\n    \n  if (redirect === true) {\n        return <Redirect to='/' />\n  }\n    \n  return (\n    <form onSubmit={formSubmit}>\n    <label htmlFor=\"emailInput\">\n      Don't have an account yet? <Link to='/Register'>Sign Up</Link><br/>\n\n      Username:\n      <input id=\"nameInput\" type=\"name\" name=\"name\" placeholder=\"Name\"  onChange={inputChange} value = {formState.name}/>\n    </label>\n    \n       \n    <br/>\n    <label htmlFor=\"passwordInput\">\n      Password:\n      <input id=\"passwordInput\" type=\"password\" name=\"password\" placeholder=\"Password\"  onChange={inputChange} value = {formState.password}/>\n    </label>\n   \n    <br/>\n    <button disabled = {buttonDisabled} >Submit!</button>\n    {errors.age.length > 0 ? (<p className=\"error\">{errors.age}</p>) : null}\n    {errors.email.length > 0 ? (<p className=\"error\">{errors.email}</p>) : null}\n    {errors.password.length > 0 ? (<p className=\"error\">{errors.password}</p>) : null}\n    {errors.name.length > 0 ? (<p className=\"error\">{errors.name}</p>) : null}\n    \n  </form>\n  );\n}\n\nexport default Login;\n\n"]},"metadata":{},"sourceType":"module"}